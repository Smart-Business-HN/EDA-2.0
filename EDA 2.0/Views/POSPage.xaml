<?xml version="1.0" encoding="utf-8"?>
<base:CancellablePage
    x:Class="EDA_2._0.Views.POSPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:EDA_2._0.Views"
    xmlns:base="using:EDA_2._0.Views.Base"
    xmlns:converters="using:EDA_2._0.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="Transparent"
    Loaded="Page_Loaded">

    <Page.Resources>
        <converters:PercentageConverter x:Key="PercentageConverter"/>
        <converters:CurrencyConverter x:Key="CurrencyConverter"/>
        <converters:DecimalToDoubleConverter x:Key="DecimalToDoubleConverter"/>
    </Page.Resources>

    <Grid Padding="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Fila de Familias (arriba de todo) -->
        <Border Grid.Row="0"
                Background="{ThemeResource SBBlueSoft}"
                CornerRadius="8"
                Padding="12,8"
                Margin="0,0,0,12">
            <ScrollViewer HorizontalScrollBarVisibility="Auto"
                          VerticalScrollBarVisibility="Disabled">
                <StackPanel x:Name="FamiliesPanel" Orientation="Horizontal" Spacing="8"/>
            </ScrollViewer>
        </Border>

        <!-- Header con CAI y Cajero -->
        <Grid Grid.Row="1" Margin="0,0,0,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock
                Grid.Column="0"
                Text="Punto de Venta"
                FontSize="24"
                FontWeight="SemiBold"
                VerticalAlignment="Center"/>

            <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="24">
                <!-- Info CAI -->
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <FontIcon Glyph="&#xEB95;" FontSize="16" VerticalAlignment="Center"/>
                    <StackPanel>
                        <TextBlock Text="CAI Activo" FontSize="11" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        <TextBlock x:Name="CaiInfoText" Text="Sin CAI" FontSize="12" FontWeight="SemiBold"/>
                    </StackPanel>
                </StackPanel>

                <!-- Info Cajero -->
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <FontIcon Glyph="&#xE77B;" FontSize="16" VerticalAlignment="Center"/>
                    <StackPanel>
                        <TextBlock Text="Cajero" FontSize="11" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        <TextBlock x:Name="CashierInfoText" Text="--" FontSize="12" FontWeight="SemiBold"/>
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </Grid>

        <!-- Contenido Principal: 3 Columnas -->
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="350"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="360"/>
            </Grid.ColumnDefinitions>

            <!-- ========== COLUMNA IZQUIERDA: PRODUCTOS ========== -->
            <Border Grid.Column="0"
                    Background="{ThemeResource SBBlueSoft}"
                    CornerRadius="8"
                    Padding="16"
                    Margin="0,0,8,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Text="Productos" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,12"
                               Foreground="{ThemeResource SBOnLightPrimary}"/>

                    <!-- Buscador de Productos -->
                    <TextBox
                        x:Name="ProductSearchTextBox"
                        Grid.Row="1"
                        PlaceholderText="Buscar producto..."
                        KeyDown="ProductSearchTextBox_KeyDown"
                        Margin="0,0,0,8"/>

                    <!-- Grid de Productos (Touch-friendly) -->
                    <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto">
                        <ItemsControl x:Name="ProductsItemsControl">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <ItemsWrapGrid Orientation="Horizontal" ItemWidth="150" ItemHeight="80"/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Button
                                        Click="ProductButton_Click"
                                        Tag="{Binding}"
                                        Margin="4"
                                        Padding="8"
                                        HorizontalAlignment="Stretch"
                                        VerticalAlignment="Stretch"
                                        HorizontalContentAlignment="Center"
                                        VerticalContentAlignment="Center">
                                        <StackPanel HorizontalAlignment="Center">
                                            <TextBlock Text="{Binding Name}"
                                                       TextWrapping="Wrap"
                                                       TextAlignment="Center"
                                                       FontSize="12"
                                                       MaxLines="2"/>
                                            <TextBlock Text="{Binding Price, Converter={StaticResource CurrencyConverter}}"
                                                       FontWeight="SemiBold"
                                                       TextAlignment="Center"
                                                       Foreground="{ThemeResource SBBlueAccent}"/>
                                        </StackPanel>
                                    </Button>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </ScrollViewer>

                    <!-- Boton Nuevo Producto -->
                    <Button
                        x:Name="NewProductButton"
                        Grid.Row="3"
                        Content="+ Nuevo Producto"
                        Click="NewProductButton_Click"
                        HorizontalAlignment="Stretch"
                        Margin="0,12,0,0"
                        MinHeight="44"/>
                </Grid>
            </Border>

            <!-- ========== COLUMNA CENTRAL: CARRITO ========== -->
            <Border Grid.Column="1"
                    Background="{ThemeResource SBBlueSoft}"
                    CornerRadius="8"
                    Padding="16"
                    Margin="8,0,8,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Pestanas de ventas -->
                    <ScrollViewer Grid.Row="0"
                                  HorizontalScrollBarVisibility="Auto"
                                  VerticalScrollBarVisibility="Disabled"
                                  Margin="0,0,0,8">
                        <StackPanel x:Name="SaleTabsPanel" Orientation="Horizontal" Spacing="4"/>
                    </ScrollViewer>

                    <TextBlock Grid.Row="1" Text="Detalle de Venta" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,12"
                               Foreground="{ThemeResource SBOnLightPrimary}"/>

                    <!-- Lista del Carrito -->
                    <ListView
                        x:Name="CartListView"
                        Grid.Row="2"
                        SelectionMode="None">
                        <ListView.Header>
                            <Grid Padding="8,8" Background="{ThemeResource SBPaymentCardBg}" CornerRadius="4" Margin="0,0,0,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="120"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="50"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="Producto" FontWeight="SemiBold" FontSize="12"
                                           Foreground="{ThemeResource SBOnLightSecondary}"/>
                                <TextBlock Grid.Column="1" Text="Cantidad" FontWeight="SemiBold" FontSize="12" HorizontalAlignment="Center"
                                           Foreground="{ThemeResource SBOnLightSecondary}"/>
                                <TextBlock Grid.Column="2" Text="P. Unit." FontWeight="SemiBold" FontSize="12" HorizontalAlignment="Right"
                                           Foreground="{ThemeResource SBOnLightSecondary}"/>
                                <TextBlock Grid.Column="3" Text="Subtotal" FontWeight="SemiBold" FontSize="12" HorizontalAlignment="Right"
                                           Foreground="{ThemeResource SBOnLightSecondary}"/>
                                <TextBlock Grid.Column="4" Text="" FontSize="12"/>
                            </Grid>
                        </ListView.Header>
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <Grid Padding="8,4">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="120"/>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="50"/>
                                    </Grid.ColumnDefinitions>

                                    <TextBlock Grid.Column="0"
                                               Text="{Binding Product.Name}"
                                               VerticalAlignment="Center"
                                               TextTrimming="CharacterEllipsis"
                                               Foreground="{ThemeResource SBOnLightPrimary}"/>

                                    <!-- Botones de Cantidad -->
                                    <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Center" Spacing="2">
                                        <Button Content="-"
                                                Click="DecreaseQuantity_Click"
                                                Tag="{Binding}"
                                                Width="28" Height="28"
                                                Padding="0"
                                                VerticalAlignment="Center"/>
                                        <NumberBox Value="{Binding Quantity, Mode=TwoWay}"
                                                   Tag="{Binding}"
                                                   Minimum="1"
                                                   SpinButtonPlacementMode="Hidden"
                                                   Width="50" Height="28"
                                                   VerticalAlignment="Center"
                                                   LostFocus="QuantityNumberBox_LostFocus"
                                                   KeyDown="QuantityNumberBox_KeyDown"/>
                                        <Button Content="+"
                                                Click="IncreaseQuantity_Click"
                                                Tag="{Binding}"
                                                Width="28" Height="28"
                                                Padding="0"
                                                VerticalAlignment="Center"/>
                                    </StackPanel>

                                    <NumberBox Grid.Column="2"
                                               Value="{Binding UnitPrice, Mode=TwoWay, Converter={StaticResource DecimalToDoubleConverter}}"
                                               Tag="{Binding}"
                                               Minimum="0"
                                               SpinButtonPlacementMode="Hidden"
                                               Width="90" Height="28"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Right"
                                               LostFocus="PriceNumberBox_LostFocus"
                                               KeyDown="PriceNumberBox_KeyDown"/>

                                    <TextBlock Grid.Column="3"
                                               Text="{Binding Subtotal, Converter={StaticResource CurrencyConverter}}"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Right"
                                               FontWeight="SemiBold"
                                               Foreground="{ThemeResource SBOnLightPrimary}"/>

                                    <Button Grid.Column="4"
                                            Content="&#xE711;"
                                            FontFamily="Segoe MDL2 Assets"
                                            Click="RemoveItem_Click"
                                            Tag="{Binding}"
                                            Width="32" Height="32"
                                            Padding="0"
                                            Background="Transparent"
                                            Foreground="{ThemeResource SBOnLightSecondary}"/>
                                </Grid>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </Grid>
            </Border>

            <!-- ========== COLUMNA DERECHA: RESUMEN Y PAGO ========== -->
            <Border Grid.Column="2"
                    Background="{ThemeResource SBBlueSoft}"
                    CornerRadius="8"
                    Padding="16"
                    Margin="8,0,0,0">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Spacing="16">

                        <!-- Seccion Cliente -->
                        <StackPanel Spacing="8">
                            <TextBlock Text="Cliente" FontWeight="SemiBold"
                                       Foreground="{ThemeResource SBOnLightPrimary}"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <Button x:Name="CustomerSelectButton"
                                        Grid.Column="0"
                                        Content="Consumidor Final"
                                        Click="CustomerSelectButton_Click"
                                        HorizontalAlignment="Stretch"
                                        HorizontalContentAlignment="Left"
                                        Padding="12,8"/>
                                <Button Grid.Column="1"
                                        Content="+"
                                        Click="NewCustomerButton_Click"
                                        Margin="8,0,0,0"
                                        Width="40" Height="32"/>
                            </Grid>
                        </StackPanel>

                        <Rectangle Height="1" Fill="{ThemeResource SBDividerOnLight}"/>

                        <!-- Seccion Descuentos (facil acceso) -->
                        <StackPanel Spacing="8">
                            <TextBlock Text="Descuento" FontWeight="SemiBold"
                                       Foreground="{ThemeResource SBOnLightPrimary}"/>

                            <!-- Botones de Descuento Rapido -->
                            <ItemsControl x:Name="DiscountButtonsControl">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <ItemsWrapGrid Orientation="Horizontal" ItemWidth="160"/>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Button
                                            Click="DiscountButton_Click"
                                            Tag="{Binding}"
                                            Margin="0,0,8,8"
                                            MinHeight="44"
                                            HorizontalAlignment="Stretch"
                                            HorizontalContentAlignment="Center">
                                            <StackPanel Orientation="Horizontal" Spacing="4">
                                                <TextBlock Text="{Binding Percentage, Converter={StaticResource PercentageConverter}}"/>
                                                <TextBlock Text="{Binding Name}"/>
                                            </StackPanel>
                                        </Button>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>

                            <!-- Descuento Seleccionado -->
                            <Grid x:Name="SelectedDiscountPanel" Visibility="Collapsed"
                                  Background="{ThemeResource SBBlueAccent}"
                                  CornerRadius="4"
                                  Padding="12,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock x:Name="SelectedDiscountText"
                                               Text="25% Tercera Edad"
                                               FontWeight="SemiBold"
                                               Foreground="White"/>
                                </StackPanel>
                                <Button Grid.Column="1"
                                        Content="Quitar"
                                        Click="RemoveDiscount_Click"
                                        Background="Transparent"/>
                            </Grid>
                        </StackPanel>

                        <Rectangle Height="1" Fill="{ThemeResource SBDividerOnLight}"/>

                        <!-- Seccion Totales -->
                        <StackPanel Spacing="8">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="Subtotal"
                                           Foreground="{ThemeResource SBOnLightSecondary}"/>
                                <TextBlock x:Name="SubtotalText" Grid.Column="1" Text="L. 0.00" FontWeight="SemiBold"
                                           Foreground="{ThemeResource SBOnLightPrimary}"/>
                            </Grid>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="Descuento"
                                           Foreground="{ThemeResource SBOnLightSecondary}"/>
                                <TextBlock x:Name="DiscountAmountText" Grid.Column="1" Text="L. 0.00" Foreground="Green"/>
                            </Grid>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="Impuesto"
                                           Foreground="{ThemeResource SBOnLightSecondary}"/>
                                <TextBlock x:Name="TaxAmountText" Grid.Column="1" Text="L. 0.00"
                                           Foreground="{ThemeResource SBOnLightPrimary}"/>
                            </Grid>
                            <Grid Background="{ThemeResource SBPaymentCardBg}" CornerRadius="4" Padding="8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="TOTAL" FontSize="18" FontWeight="Bold"
                                           Foreground="{ThemeResource SBOnLightPrimary}"/>
                                <TextBlock x:Name="TotalText" Grid.Column="1" Text="L. 0.00" FontSize="18" FontWeight="Bold"
                                           Foreground="{ThemeResource SBBlueAccent}"/>
                            </Grid>
                        </StackPanel>

                        <Rectangle Height="1" Fill="{ThemeResource SBDividerOnLight}"/>

                        <!-- Seccion Pagos Multiples -->
                        <StackPanel Spacing="8">
                            <TextBlock Text="Pagos" FontWeight="SemiBold"
                                       Foreground="{ThemeResource SBOnLightPrimary}"/>

                            <!-- Lista de Pagos Agregados -->
                            <ListView x:Name="PaymentsListView"
                                      SelectionMode="None"
                                      MaxHeight="150">
                                <ListView.ItemTemplate>
                                    <DataTemplate>
                                        <Grid Padding="4">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="100"/>
                                                <ColumnDefinition Width="32"/>
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Grid.Column="0"
                                                       Text="{Binding PaymentType.Name}"
                                                       VerticalAlignment="Center"
                                                       Foreground="{ThemeResource SBOnLightPrimary}"/>
                                            <TextBlock Grid.Column="1"
                                                       Text="{Binding Amount, Converter={StaticResource CurrencyConverter}}"
                                                       VerticalAlignment="Center"
                                                       HorizontalAlignment="Right"
                                                       FontWeight="SemiBold"
                                                       Foreground="{ThemeResource SBOnLightPrimary}"/>
                                            <Button Grid.Column="2"
                                                    Content="&#xE711;"
                                                    FontFamily="Segoe MDL2 Assets"
                                                    Click="RemovePayment_Click"
                                                    Tag="{Binding}"
                                                    Width="28" Height="28"
                                                    Padding="0"
                                                    Background="Transparent"/>
                                        </Grid>
                                    </DataTemplate>
                                </ListView.ItemTemplate>
                            </ListView>

                            <!-- Agregar Nuevo Pago -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <ComboBox x:Name="PaymentTypeComboBox"
                                          Grid.Column="0"
                                          PlaceholderText="Tipo de pago"
                                          HorizontalAlignment="Stretch"
                                          DisplayMemberPath="Name"/>
                                <TextBox x:Name="PaymentAmountTextBox"
                                         Grid.Column="1"
                                         PlaceholderText="Monto"
                                         Margin="8,0,0,0"/>
                                <Button Grid.Column="2"
                                        Content="Agregar"
                                        Click="AddPayment_Click"
                                        Margin="8,0,0,0"
                                        Style="{StaticResource AccentButtonStyle}"/>
                            </Grid>

                            <!-- Resumen de Pagos -->
                            <Grid Background="{ThemeResource SBPaymentCardBg}" CornerRadius="4" Padding="8">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="Total Pagado"
                                           Foreground="{ThemeResource SBOnLightSecondary}"/>
                                <TextBlock x:Name="TotalPaidText" Grid.Row="0" Grid.Column="1" Text="L. 0.00" FontWeight="SemiBold" Foreground="Green"/>
                                <TextBlock x:Name="PendingLabelText" Grid.Row="1" Grid.Column="0" Text="Pendiente"
                                           Foreground="{ThemeResource SBOnLightSecondary}"/>
                                <TextBlock x:Name="PendingAmountText" Grid.Row="1" Grid.Column="1" Text="L. 0.00" FontWeight="SemiBold" Foreground="Red"/>
                            </Grid>

                            <!-- Alerta de Cambio (visible cuando hay que dar cambio) -->
                            <Border x:Name="ChangeAlertPanel"
                                    Background="#1B5E20"
                                    CornerRadius="8"
                                    Padding="16"
                                    Visibility="Collapsed">
                                <StackPanel HorizontalAlignment="Center" Spacing="4">
                                    <TextBlock Text="CAMBIO A ENTREGAR"
                                               FontSize="14"
                                               FontWeight="SemiBold"
                                               Foreground="White"
                                               HorizontalAlignment="Center"/>
                                    <TextBlock x:Name="ChangeAmountText"
                                               Text="L. 0.00"
                                               FontSize="28"
                                               FontWeight="Bold"
                                               Foreground="White"
                                               HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>

                        <Rectangle Height="1" Fill="{ThemeResource SBDividerOnLight}"/>

                        <!-- Seccion Credito -->
                        <StackPanel Spacing="8">
                            <ToggleSwitch x:Name="CreditToggle"
                                          Header="Factura al Credito"
                                          Toggled="CreditToggle_Toggled"/>
                            <StackPanel x:Name="CreditOptionsPanel" Visibility="Collapsed" Spacing="8">
                                <TextBlock Text="Dias de Credito" FontWeight="SemiBold"
                                           Foreground="{ThemeResource SBOnLightPrimary}"/>
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <Button Content="15" Click="CreditDays_Click" Tag="15" MinWidth="50"/>
                                    <Button Content="30" Click="CreditDays_Click" Tag="30" MinWidth="50"/>
                                    <Button Content="60" Click="CreditDays_Click" Tag="60" MinWidth="50"/>
                                    <Button Content="90" Click="CreditDays_Click" Tag="90" MinWidth="50"/>
                                </StackPanel>
                                <NumberBox x:Name="CreditDaysNumberBox"
                                           Header="O ingrese dias:"
                                           Minimum="1" Maximum="365"
                                           SpinButtonPlacementMode="Inline"
                                           ValueChanged="CreditDaysNumberBox_ValueChanged"/>
                                <TextBlock x:Name="DueDatePreview" FontSize="12"
                                           Foreground="{ThemeResource SBOnLightSecondary}"/>
                            </StackPanel>
                        </StackPanel>

                        <!-- Boton Facturar -->
                        <Button
                            x:Name="FacturarButton"
                            Content="FACTURAR"
                            Click="Facturar_Click"
                            Style="{StaticResource AccentButtonStyle}"
                            HorizontalAlignment="Stretch"
                            MinHeight="60"
                            FontSize="18"
                            FontWeight="Bold"
                            IsEnabled="False"/>

                        <!-- Boton Limpiar -->
                        <Button
                            x:Name="ClearButton"
                            Content="Limpiar Venta"
                            Click="ClearButton_Click"
                            HorizontalAlignment="Stretch"
                            MinHeight="44"/>

                    </StackPanel>
                </ScrollViewer>
            </Border>
        </Grid>
    </Grid>
</base:CancellablePage>
